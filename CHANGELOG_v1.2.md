# CC-APISwitch v1.2 版本升级说明

## 🚀 版本信息
- **当前版本**: v1.2
- **上一版本**: v1.1
- **发布日期**: 2025年1月
- **兼容性**: 向下兼容v1.1配置文件

## ✨ 新增功能

### 1. **多选批量操作**
- ✅ 支持配置列表多选功能
- ✅ 新增"全选"复选框，快速选择所有配置
- ✅ 批量上移/下移配置位置
- ✅ 批量删除多个配置
- ✅ 智能状态显示（单选显示配置详情，多选显示数量）

### 2. **配置备份功能**
- ✅ 一键备份所有配置到当前软件目录
- ✅ 备份文件自动加上时间戳（格式：`cc_apiswitch_configs_backup_YYYYMMDD_HHMMSS.json`）
- ✅ 完整错误处理和用户友好提示
- ✅ 备份位置：软件运行目录，便于管理

### 3. **最新AI模型支持**
基于2024-2025年最新发布的编程专用AI模型：

#### DeepSeek V3系列（2025最新）
- `deepseek-v3` - MoE架构，编程任务卓越表现
- `deepseek-v3.1` - 混合推理架构，支持思维模式
- `deepseek-v3-0324` - 2025年3月版本
- `deepseek-chat` / `deepseek-reasoner` - 对话/推理模式

#### Kimi/Moonshot K2系列（2025最新）
- `kimi-k2` / `kimi-k2-instruct` - 万亿参数，256K上下文
- `kimi-k1.5` - 匹配OpenAI o1性能

#### Qwen3-Coder系列（2025最新）
- `qwen3-coder` 系列 - 基于Qwen3的专业编程模型
- `qwen3-coder-480b-a35b-instruct` - 480B参数最强版本

#### GLM-4和CodeGeeX4（2024-2025最新）
- `glm-4` / `glm-4.5` - 逼近GPT-4性能
- `codegeex4-all-9b` - 百亿参数级最强编程模型

### 4. **自定义模型支持**
- ✅ 模型选择改为ComboBox，支持直接输入任意模型名称
- ✅ 保留所有预设模型的同时，支持企业内部模型
- ✅ 实时输入验证和用户友好界面

### 5. **模块化配置管理**
- ✅ 模型列表独立存储在`models_config.json`文件
- ✅ 支持手动编辑模型配置文件
- ✅ 容错设计：配置文件不存在时使用内置默认列表
- ✅ 便于后续模型更新和维护

### 6. **界面优化**
- ✅ 窗口宽度增加50像素，显示更多内容
- ✅ 配置列表高度自适应调整（3-15行）
- ✅ 配置编辑面板固定高度，空间布局更合理
- ✅ 操作按钮缩窄25%，界面更紧凑
- ✅ 认证令牌明文显示，便于查看和验证

### 7. **增强用户体验**
- ✅ 版权信息添加GitHub链接，支持点击跳转
- ✅ 状态栏实时反馈操作结果
- ✅ 完善的错误处理和用户提示
- ✅ 多语言友好的界面设计

## 🔧 界面改进

### 布局优化
```
┌─────────────────────────────────────────────────┐
│ 当前配置显示 + 环境变量显示                        │
├─────────────────────────────────────────────────┤
│ 配置列表（自适应高度，支持多选）                    │
├─────────────────────────────────────────────────┤
│ 配置编辑区域（固定高度）                          │
├─────────────────────────────────────────────────┤
│ [添加][更新][删除][清除] [全选][上移][下移]         │
│ [测试][批量测试] [切换][环境变量]                  │
├─────────────────────────────────────────────────┤
│ 项目快速启动区域                                  │
├─────────────────────────────────────────────────┤
│ 状态信息    [备份配置]      by: kaodaai (链接)    │
└─────────────────────────────────────────────────┘
```

### 功能分组
1. **基础操作**: 添加、更新、删除、清除（按钮缩小）
2. **批量操作**: 全选、上移下移、批量删除
3. **配置管理**: 测试、切换、环境变量设置
4. **数据管理**: 备份配置、项目启动
5. **信息展示**: 状态反馈、GitHub链接

## 📁 文件结构
```
cc-switcher/
├── cc_switcher.py              # 主程序（v1.2）
├── models_config.json          # 模型配置文件（新增）
├── build.py                   # 构建脚本
├── 备份文件_YYYYMMDD_HHMMSS.json # 自动生成的备份文件
└── README.md                  # 说明文档
```

## 🔄 升级注意事项

### 从v1.1升级到v1.2
1. **配置兼容性**: v1.2完全兼容v1.1的配置文件
2. **新增文件**: 会自动生成`models_config.json`配置文件
3. **界面变化**: 窗口略有加宽，按钮布局优化
4. **功能增强**: 所有v1.1功能保持不变，新增批量操作功能

### 数据安全
- 升级前建议使用新增的备份功能保存当前配置
- 配置文件路径和格式保持不变
- 支持回退到v1.1版本（需手动删除`models_config.json`）

## 🏗️ 技术改进

### 代码结构优化
- 模型配置与业务逻辑分离
- 增强的错误处理和日志记录
- 更好的代码可维护性

### 性能提升
- 配置列表渲染优化
- 内存使用优化
- 启动速度提升

### 扩展性增强
- 模块化的模型管理
- 插件化的功能设计
- 便于后续功能扩展

## 🐛 修复的问题

### v1.1已知问题修复
- ✅ 修复拖动排序导致程序崩溃的问题
- ✅ 修复选择配置不显示在编辑区的问题
- ✅ 优化配置列表的选择和显示逻辑
- ✅ 改进错误处理和用户提示

### 稳定性提升
- 增强异常处理机制
- 改进文件I/O操作的安全性
- 优化UI响应性能

## 🎯 使用建议

### 新用户
1. 直接使用v1.2版本，享受完整功能
2. 从预设模型中选择，或输入自定义模型名称
3. 使用备份功能定期保存配置

### 老用户升级
1. 升级前使用备份功能保存配置
2. 直接替换可执行文件即可升级
3. 首次运行会自动生成新的配置文件

### 高级用户
1. 可手动编辑`models_config.json`添加专业模型
2. 利用批量操作功能高效管理大量配置
3. 通过GitHub链接获取最新更新和技术支持

---

**开发者**: kaodaai
**项目地址**: https://github.com/kaodaai/cc-apiswitcher
**技术支持**: 通过GitHub Issues反馈问题和建议